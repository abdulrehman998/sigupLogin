(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{208:function(e,a,t){},209:function(e,a,t){},339:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(42),i=t.n(s),c=(t(208),t(209),"localhost"===window.location.hostname.split(":")[0]?"http://localhost:5001":""),l=t(55),o=t.n(l),d=t(26),j=(t(228),t(382)),u=t(380),m=t(383),b=t(111),h=t(381),x=t(392),O=t(48),p=t(391),g=t(389),v=t(9),f=t(6),w=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.name&&a.payload.email&&a.payload._id?Object(f.a)(Object(f.a)({},e),{},{user:a.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(f.a)(Object(f.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(f.a)(Object(f.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},y=t(1),C=Object(n.createContext)("Initial Value"),S={darkTheme:!0,user:void 0};function T(e){var a=e.children,t=Object(n.useReducer)(w,S),r=Object(v.a)(t,2),s=r[0],i=r[1];return Object(y.jsx)(C.Provider,{value:{state:s,dispatch:i},children:a})}var E=O.a({email:O.b("Enter your email").email("Enter a valid email").required("Email is required"),password:O.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required")});var N=function(){Object(d.f)();var e=Object(n.useContext)(C),a=(e.state,e.dispatch),t=Object(b.a)({validationSchema:E,initialValues:{email:"",password:""},onSubmit:function(e){console.log("values: ",e),o.a.post("".concat(c,"/api/v1/login"),{email:e.email,password:e.password},{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email&&a({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id,address:e.data.address,phoneNumber:e.data.phoneNumber,gender:e.data.gender}})}))}});return Object(y.jsxs)("div",{style:{margin:"2rem"},children:[Object(y.jsx)("h1",{children:"Login page"}),Object(y.jsx)("form",{onSubmit:t.handleSubmit,children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:2,children:[Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"outlined",name:"email",value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:5}),Object(y.jsx)(g.a,{item:!0,xs:12,md:2,children:Object(y.jsx)(x.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Login"})}),Object(y.jsx)(g.a,{item:!0,xs:12,md:5})]})})})]})},k=t(385),L=t(386),_=t(393),P=t(387),q=t(376),B=O.a({name:O.b("Enter your name").required("Name is required"),email:O.b("Enter your email").email("Enter a valid email").required("Email is required"),password:O.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required"),address:O.b("Enter your Address").required("Address is required"),phoneNumber:O.b("Enter your phone number").min(10,"Phone number should be 10 integers long").required("Phone number is required")});var W=function(){var e=Object(d.f)(),a=Object(b.a)({validationSchema:B,initialValues:{name:"",email:"",phoneNumber:"",password:"",address:""},onSubmit:function(a){var t=document.querySelector('input[name="gender"]:checked').value;o.a.post("".concat(c,"/api/v1/signup"),{name:a.name,email:a.email,gender:t,phoneNumber:Number(a.phoneNumber),password:a.password,address:a.address}).then((function(a){console.log("res: ",a.data),alert("Successfully Signed Up"),e.push("/")}))}});return Object(y.jsxs)("div",{style:{margin:"1rem"},children:[Object(y.jsx)("h1",{children:"Signup page"}),Object(y.jsx)("form",{onSubmit:a.handleSubmit,children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:1,children:[Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Full Name",variant:"standard",name:"name",value:a.values.name,onChange:a.handleChange,error:a.touched.name&&Boolean(a.errors.name),helperText:a.touched.name&&a.errors.name})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"standard",name:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"standard",type:"password",name:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Address",variant:"standard",type:"address",name:"address",value:a.values.address,onChange:a.handleChange,error:a.touched.address&&Boolean(a.errors.address),helperText:a.touched.address&&a.errors.address})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,name:"phoneNumber",label:"Phone Number",variant:"standard",value:a.values.phoneNumber,onChange:a.handleChange,error:a.touched.phoneNumber&&Boolean(a.errors.phoneNumber),helperText:a.touched.phoneNumber&&a.errors.phoneNumber})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsxs)(P.a,{component:"fieldset",children:[Object(y.jsx)(q.a,{component:"legend",style:{textAlign:"left"},children:"Gender"}),Object(y.jsxs)(L.a,{"aria-label":"gender",defaultValue:"male",name:"genderParent",children:[Object(y.jsx)(_.a,{name:"",value:"male",control:Object(y.jsx)(k.a,{}),label:"Male"}),Object(y.jsx)(_.a,{name:"gender",value:"female",control:Object(y.jsx)(k.a,{}),label:"Female"})]})]})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(x.a,{fullWidth:!0,variant:"contained",type:"submit",children:"Signup"})}),Object(y.jsx)(g.a,{item:!0,xs:12,md:3})]})})})]})},G=t.p+"static/media/splash.257ba1d2.png";var R=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{style:{backgroundColor:"#181415",width:"100%",height:"100vh"},children:Object(y.jsx)("img",{style:{width:"100%",position:"fixed",bottom:"0px"},src:G,alt:""})})})},U=t(17),F=t(19),I=t(5),M=t(396),V=t(397),A=t(398),D=t(399),J=t(390),H=t(395),z=t(394),K=["expand"];Object(I.a)((function(e){e.expand;var a=Object(F.a)(e,K);return Object(y.jsx)(H.a,Object(f.a)({},a))}))((function(e){var a=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:a.transitions.create("transform",{duration:a.transitions.duration.shortest})}}));function Q(e){var a=e.text,t=e.team1,r=e.team2,s=e.toss,i=e.overs,c=e.wickets,l=(e.email,e.name,e.timestamp,n.useState(!1)),o=Object(v.a)(l,2);o[0],o[1];return Object(y.jsxs)(M.a,{sx:{maxWidth:1600},children:[Object(y.jsx)(V.a,{avatar:Object(y.jsx)(J.a,{"aria-label":"recipe",children:Object(y.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/1/10/ICC_Men%27s_T20_World_Cup_2021_logo.svg",alt:"",width:"30"})}),title:"ICC Men's T20 World Cup 2021",subheader:"Live Match"}),Object(y.jsxs)(A.a,{children:[Object(y.jsxs)(z.a,{variant:"h2",color:"text.secondary",children:[t," VS ",r]}),Object(y.jsxs)(z.a,{variant:"h6",color:"text.secondary",children:[t," won the Toss and choose to ",s]}),Object(y.jsxs)(z.a,{variant:"h4",color:"text.secondary",children:[a,"/ ",c]}),Object(y.jsxs)(z.a,{variant:"h5",color:"text.secondary",children:[i," Overs"]})]}),Object(y.jsx)(D.a,{disableSpacing:!0})]})}var X=t(379),Y=t(186);var Z=function(){var e=Object(n.useState)(""),a=Object(v.a)(e,2),t=a[0],r=a[1],s=Object(n.useState)(""),i=Object(v.a)(s,2),l=i[0],d=i[1],j=Object(n.useState)(""),u=Object(v.a)(j,2),m=u[0],b=u[1],O=Object(n.useState)(""),p=Object(v.a)(O,2),g=p[0],f=p[1],w=Object(n.useState)(""),C=Object(v.a)(w,2),S=C[0],T=C[1],E=Object(n.useState)([]),N=Object(v.a)(E,2),B=N[0],W=N[1],G=Object(n.useState)(!1),R=Object(v.a)(G,2),F=R[0],I=R[1],M=Object(n.useState)(!0),V=Object(v.a)(M,2);return V[0],V[1],Object(n.useEffect)((function(){o.a.get("".concat(c,"/api/v1/posts?page=0"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),W(e.data)}))}),[]),Object(n.useEffect)((function(){var e=Object(Y.a)("http://localhost:5001");return e.on("connect",(function(){console.log("Connected to server")})),e.on("disconnect",(function(){console.log("Disconnected to server")})),e.on("POSTS",(function(e){console.log(e),W((function(a){return[e].concat(Object(U.a)(a))}))})),function(){e.close()}}),[]),Object(y.jsxs)("div",{style:{margin:"1rem"},children:[Object(y.jsx)("h1",{children:" Dashboard Page "}),Object(y.jsxs)(X.a,{spacing:2,direction:"column",children:[Object(y.jsx)(h.a,{id:"outlined-multiline-static",multiline:!0,rows:1,value:g,onChange:function(e){f(e.target.value)},placeholder:"team 1"})," ",Object(y.jsx)("br",{}),Object(y.jsx)(h.a,{id:"outlined-multiline-static",multiline:!0,rows:1,value:S,onChange:function(e){T(e.target.value)},placeholder:"team 2"})," ",Object(y.jsx)("br",{}),Object(y.jsxs)(P.a,{component:"fieldset",children:[Object(y.jsx)(q.a,{component:"legend",style:{textAlign:"left"},children:"Toss"}),Object(y.jsxs)(L.a,{"aria-label":"gender",defaultValue:"Bat",name:"genderParent",children:[Object(y.jsx)(_.a,{name:"gender",value:"Bat",control:Object(y.jsx)(k.a,{}),label:"Bat"}),Object(y.jsx)(_.a,{name:"gender",value:"Field",control:Object(y.jsx)(k.a,{}),label:"Field"})]})]}),Object(y.jsx)(h.a,{id:"outlined-multiline-static",multiline:!0,rows:1,value:t,onChange:function(e){r(e.target.value)},placeholder:"Runs of team"})," ",Object(y.jsx)("br",{}),Object(y.jsx)(h.a,{id:"outlined-multiline-static",multiline:!0,rows:1,value:l,onChange:function(e){d(e.target.value)},placeholder:"Wickets"})," ",Object(y.jsx)("br",{}),Object(y.jsx)(h.a,{id:"outlined-multiline-static",multiline:!0,rows:1,value:m,onChange:function(e){b(e.target.value)},placeholder:"Overs"})," ",Object(y.jsx)("br",{}),Object(y.jsx)(x.a,{variant:"contained",onClick:function(){if(""!==t){var e=document.querySelector('input[name="gender"]:checked').value;o.a.post("".concat(c,"/api/v1/post"),{postText:t,wicketsText:l,oversText:m,team1Text:g,team2Text:S,gender:e},{withCredentials:!0}).then((function(e){console.log("res: ",e.data),I(!F)}))}},children:"Post"})]}),Object(y.jsx)("br",{}),Object(y.jsx)(Q,{name:B.name,email:B.email,team1:B.team1Text,team2:B.team2Text,toss:B.gender,text:B.postText,wickets:B.wicketsText,overs:B.oversText}),Object(y.jsx)("br",{})]})};var $=function(){var e,a=Object(d.f)(),t=Object(n.useContext)(C),r=t.state,s=t.dispatch;return Object(n.useEffect)((function(){return o.a.get("".concat(c,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email?s({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id}}):s({type:"USER_LOGOUT"})})).catch((function(e){s({type:"USER_LOGOUT"})})),function(){}}),[]),Object(y.jsxs)(y.Fragment,{children:[(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.email)?Object(y.jsx)(j.a,{className:"bgcolor1",expand:"lg",children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(j.a.Brand,{href:"#home",children:"React Login project"}),Object(y.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsx)(m.a,{className:"me-auto",children:Object(y.jsx)(m.a.Link,{onClick:function(){a.push("/")},children:"Dashboard"})})})]})}):Object(y.jsx)(j.a,{className:"bgcolor1",expand:"lg",children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(j.a.Brand,{href:"#home",children:"React Login project"}),Object(y.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(m.a,{className:"me-auto",children:[Object(y.jsx)(m.a.Link,{onClick:function(){a.push("/")},children:"Login"}),Object(y.jsx)(m.a.Link,{onClick:function(){a.push("/signup")},children:"Signup"})]})})]})}),void 0===r.user?Object(y.jsx)(d.c,{children:Object(y.jsx)(d.a,{exact:!0,path:"/",children:Object(y.jsx)(R,{})})}):null,null===r.user?Object(y.jsxs)(d.c,{children:[Object(y.jsx)(d.a,{exact:!0,path:"/",component:N}),Object(y.jsx)(d.a,{path:"/signup",component:W})]}):null,r.user?Object(y.jsx)(d.c,{children:Object(y.jsx)(d.a,{exact:!0,path:"/",children:Object(y.jsx)(Z,{})})}):null]})},ee=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,401)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,i=a.getTTFB;t(e),n(e),r(e),s(e),i(e)}))},ae=t(86);i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(T,{children:Object(y.jsx)(ae.a,{children:Object(y.jsx)($,{})})})}),document.getElementById("root")),ee()}},[[339,1,2]]]);
//# sourceMappingURL=main.bc808710.chunk.js.map