(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{192:function(e,a,t){},193:function(e,a,t){},319:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(40),s=t.n(i),c=(t(192),t(193),"localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":""),d=t(42),l=t.n(d),o=t(23),j=(t(212),t(360)),m=t(358),h=t(361),u=t(70),b=t(359),x=t(370),O=t(45),p=t(368),g=t(367),v=t(9),f=t(6),w=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.name&&a.payload.email&&a.payload._id?Object(f.a)(Object(f.a)({},e),{},{user:a.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(f.a)(Object(f.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(f.a)(Object(f.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},y=t(1),C=Object(n.createContext)("Initial Value"),S={darkTheme:!0,user:void 0};function E(e){var a=e.children,t=Object(n.useReducer)(w,S),r=Object(v.a)(t,2),i=r[0],s=r[1];return Object(y.jsx)(C.Provider,{value:{state:i,dispatch:s},children:a})}var N=O.a({email:O.b("Enter your email").email("Enter a valid email").required("Email is required"),password:O.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required")});var T=function(){Object(o.f)();var e=Object(n.useContext)(C),a=(e.state,e.dispatch),t=Object(u.a)({validationSchema:N,initialValues:{email:"",password:""},onSubmit:function(e){console.log("values: ",e),l.a.post("".concat(c,"/api/v1/login"),{email:e.email,password:e.password},{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email&&a({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id,address:e.data.address,phoneNumber:e.data.phoneNumber,gender:e.data.gender}})}))}});return Object(y.jsxs)("div",{style:{margin:"2rem"},children:[Object(y.jsx)("h1",{children:"Login page"}),Object(y.jsx)("form",{onSubmit:t.handleSubmit,children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:2,children:[Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"outlined",name:"email",value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:5}),Object(y.jsx)(g.a,{item:!0,xs:12,md:2,children:Object(y.jsx)(x.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Login"})}),Object(y.jsx)(g.a,{item:!0,xs:12,md:5})]})})})]})},L=t(363),q=t(364),G=t(371),k=t(365),W=t(355),_=O.a({name:O.b("Enter your name").required("Name is required"),email:O.b("Enter your email").email("Enter a valid email").required("Email is required"),password:O.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required"),address:O.b("Enter your Address").required("Address is required"),phoneNumber:O.b("Enter your phone number").min(10,"Phone number should be 10 integers long").required("Phone number is required")});var B=function(){var e=Object(o.f)(),a=Object(u.a)({validationSchema:_,initialValues:{name:"",email:"",phoneNumber:"",password:"",address:""},onSubmit:function(a){var t=document.querySelector('input[name="gender"]:checked').value;l.a.post("".concat(c,"/api/v1/signup"),{name:a.name,email:a.email,gender:t,phoneNumber:Number(a.phoneNumber),password:a.password,address:a.address}).then((function(a){console.log("res: ",a.data),alert("Successfully Signed Up"),e.push("/")}))}});return Object(y.jsxs)("div",{style:{margin:"1rem"},children:[Object(y.jsx)("h1",{children:"Signup page"}),Object(y.jsx)("form",{onSubmit:a.handleSubmit,children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:1,children:[Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Full Name",variant:"standard",name:"name",value:a.values.name,onChange:a.handleChange,error:a.touched.name&&Boolean(a.errors.name),helperText:a.touched.name&&a.errors.name})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"standard",name:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"standard",type:"password",name:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Address",variant:"standard",type:"address",name:"address",value:a.values.address,onChange:a.handleChange,error:a.touched.address&&Boolean(a.errors.address),helperText:a.touched.address&&a.errors.address})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,name:"phoneNumber",label:"Phone Number",variant:"standard",value:a.values.phoneNumber,onChange:a.handleChange,error:a.touched.phoneNumber&&Boolean(a.errors.phoneNumber),helperText:a.touched.phoneNumber&&a.errors.phoneNumber})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsxs)(k.a,{component:"fieldset",children:[Object(y.jsx)(W.a,{component:"legend",style:{textAlign:"left"},children:"Gender"}),Object(y.jsxs)(q.a,{"aria-label":"gender",defaultValue:"male",name:"genderParent",children:[Object(y.jsx)(G.a,{name:"gender",value:"male",control:Object(y.jsx)(L.a,{}),label:"Male"}),Object(y.jsx)(G.a,{name:"gender",value:"female",control:Object(y.jsx)(L.a,{}),label:"Female"})]})]})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(x.a,{fullWidth:!0,variant:"contained",type:"submit",children:"Signup"})}),Object(y.jsx)(g.a,{item:!0,xs:12,md:3})]})})})]})},P=t.p+"static/media/splash.257ba1d2.png";var U=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{style:{backgroundColor:"#181415",width:"100%",height:"100vh"},children:Object(y.jsx)("img",{style:{width:"100%",position:"fixed",bottom:"0px"},src:P,alt:""})})})},I=t(373),R=t(374),F=t(372);function V(e){console.log("values: ",e),l.a.post("".concat(c,"/api/v1/create"),{title:e.title,description:e.description},{withCredentials:!0}).then((function(a){console.log(a.data);var t=e.title;localStorage.setItem("title",t)})).catch((function(e){console.log(e)}))}var A=function(){var e=Object(n.useContext)(C),a=(e.state,e.dispatch),t=Object(n.useState)({}),r=Object(v.a)(t,2),i=r[0],s=r[1];Object(n.useEffect)((function(){l.a.get("".concat(c,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),s(e.data)}))}),[]);var d=Object(u.a)({initialValues:{title:"",description:""},onSubmit:V}),o=Object(n.useState)([]),j=Object(v.a)(o,2),m=j[0],h=j[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("title");l.a.get("".concat(c,"/api/v1/posts"),{title:e}).then((function(e){var a=e.data;h(a)})).catch((function(e){console.log(e.response)}))}),[m]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{style:{margin:"2rem"},children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:5,children:[Object(y.jsx)(g.a,{item:!0,md:4}),Object(y.jsx)(g.a,{item:!0,xs:12,md:4,children:Object(y.jsxs)(I.a,{style:{padding:"1rem"},sx:{minWidth:275},children:[Object(y.jsxs)(R.a,{children:[Object(y.jsx)(F.a,{variant:"h4",component:"div",children:i.name}),Object(y.jsx)(F.a,{variant:"h6",component:"div",children:i.email}),Object(y.jsx)(F.a,{variant:"h6",component:"div",children:i.address}),Object(y.jsx)(F.a,{variant:"h6",component:"div",children:i.phoneNumber}),Object(y.jsx)(F.a,{variant:"h6",component:"div",children:i.gender})]}),Object(y.jsx)(x.a,{variant:"contained",color:"error",onClick:function(){l.a.post("".concat(c,"/api/v1/logout"),{},{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),alert("Logging Out"),a({type:"USER_LOGOUT"})}))},children:"Logout"})]})}),Object(y.jsx)(g.a,{item:!0,md:4})]})})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("form",{onSubmit:d.handleSubmit,children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:5,children:[Object(y.jsx)(g.a,{item:!0,xs:2,md:2}),Object(y.jsx)(g.a,{item:!0,xs:8,md:8,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Title",variant:"standard",name:"title",value:d.values.title,onChange:d.handleChange,error:d.touched.title&&Boolean(d.errors.title),helperText:d.touched.title&&d.errors.title})}),Object(y.jsx)(g.a,{item:!0,xs:2,md:2}),Object(y.jsx)(g.a,{item:!0,xs:2,md:2}),Object(y.jsx)(g.a,{item:!0,xs:8,md:8,children:Object(y.jsx)(b.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Description",variant:"standard",name:"description",value:d.values.description,onChange:d.handleChange,error:d.touched.description&&Boolean(d.errors.description),helperText:d.touched.description&&d.errors.description})}),Object(y.jsx)(g.a,{item:!0,xs:2,md:2}),Object(y.jsx)(g.a,{item:!0,xs:2,md:2}),Object(y.jsx)(g.a,{item:!0,xs:8,md:8,children:Object(y.jsx)(x.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Insert Button"})}),Object(y.jsx)(g.a,{item:!0,xs:2,md:2})]})})}),m.map((function(e){return Object(y.jsx)("div",{style:{margin:"2rem"},children:Object(y.jsx)(I.a,{sx:{minWidth:275},children:Object(y.jsxs)(R.a,{children:[Object(y.jsx)(F.a,{variant:"h4",component:"div",children:e.title}),Object(y.jsx)(F.a,{variant:"h6",component:"div",children:e.description})]})})})}))]})]})};var D=function(){var e=Object(o.f)(),a=Object(n.useContext)(C),t=a.state,r=a.dispatch;return Object(n.useEffect)((function(){return l.a.get("".concat(c,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email?r({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id}}):r({type:"USER_LOGOUT"})})).catch((function(e){r({type:"USER_LOGOUT"})})),function(){}}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{className:"bgcolor1",expand:"lg",children:Object(y.jsxs)(m.a,{children:[Object(y.jsx)(j.a.Brand,{href:"#home",children:"React Login project"}),Object(y.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(h.a,{className:"me-auto",children:[Object(y.jsx)(h.a.Link,{onClick:function(){e.push("/")},children:"Dashboard"}),Object(y.jsx)(h.a.Link,{onClick:function(){e.push("/")},children:"Login"}),Object(y.jsx)(h.a.Link,{onClick:function(){e.push("/signup")},children:"Signup"})]})})]})}),void 0===t.user?Object(y.jsx)(o.c,{children:Object(y.jsx)(o.a,{exact:!0,path:"/",children:Object(y.jsx)(U,{})})}):null,null===t.user?Object(y.jsxs)(o.c,{children:[Object(y.jsx)(o.a,{exact:!0,path:"/",component:T}),Object(y.jsx)(o.a,{path:"/signup",component:B})]}):null,t.user?Object(y.jsx)(o.c,{children:Object(y.jsx)(o.a,{exact:!0,path:"/",children:Object(y.jsx)(A,{})})}):null]})},M=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,375)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,i=a.getLCP,s=a.getTTFB;t(e),n(e),r(e),i(e),s(e)}))},J=t(66);s.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(E,{children:Object(y.jsx)(J.a,{children:Object(y.jsx)(D,{})})})}),document.getElementById("root")),M()}},[[319,1,2]]]);
//# sourceMappingURL=main.afb3d85c.chunk.js.map