(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{189:function(e,a,t){},190:function(e,a,t){},316:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(40),i=t.n(s),c=(t(189),t.p,t(190),t(23)),d=(t(191),t(357)),l=t(355),o=t(358),m=t(58),j=t.n(m),u=t(100),h=t(356),b=t(367),x=t(44),O="localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":"",p=t(366),g=t(365),f=t(9),v=t(6),w=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.name&&a.payload.email&&a.payload._id?Object(v.a)(Object(v.a)({},e),{},{user:a.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(v.a)(Object(v.a)({},e),{},{user:{}});case"TOGGLE_THEME":return Object(v.a)(Object(v.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},y=t(1),C=Object(r.createContext)("Initial Value"),S={darkTheme:!0,user:{}};function E(e){var a=e.children,t=Object(r.useReducer)(w,S),n=Object(f.a)(t,2),s=n[0],i=n[1];return Object(y.jsx)(C.Provider,{value:{state:s,dispatch:i},children:a})}var N=x.a({email:x.b("Enter your email").email("Enter a valid email").required("Email is required"),password:x.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required")});var L=function(){var e=Object(c.f)(),a=Object(r.useContext)(C),t=(a.state,a.dispatch),n=Object(u.a)({validationSchema:N,initialValues:{email:"",password:""},onSubmit:function(a){console.log("values: ",a),j.a.post("".concat(O,"/api/v1/login"),{email:a.email,password:a.password},{withCredentials:!0}).then((function(a){console.log("res: ",a.data),a.data.email&&(t({type:"USER_LOGIN",payload:{name:a.data.name,email:a.data.email,_id:a.data._id}}),e.push("/"))}))}});return Object(y.jsxs)("div",{style:{margin:"2rem"},children:[Object(y.jsx)("h1",{children:"Login page"}),Object(y.jsx)("form",{onSubmit:n.handleSubmit,children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:2,children:[Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"outlined",name:"email",value:n.values.email,onChange:n.handleChange,error:n.touched.email&&Boolean(n.errors.email),helperText:n.touched.email&&n.errors.email})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:n.values.password,onChange:n.handleChange,error:n.touched.password&&Boolean(n.errors.password),helperText:n.touched.password&&n.errors.password})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:5}),Object(y.jsx)(g.a,{item:!0,xs:12,md:2,children:Object(y.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Login"})}),Object(y.jsx)(g.a,{item:!0,xs:12,md:5})]})})})]})},T=t(360),P=t(361),q=t(363),k=t(362),G=t(352),B=x.a({name:x.b("Enter your name").required("Name is required"),email:x.b("Enter your email").email("Enter a valid email").required("Email is required"),password:x.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required"),address:x.b("Enter your Address").required("Address is required"),phoneNumber:x.b("Enter your phone number").min(10,"Phone number should be 10 integers long").required("Phone number is required")});var U=function(){var e=Object(c.f)(),a=Object(u.a)({initialValues:{name:"",email:"",phoneNumber:"",password:"",address:""},validationSchema:B,onSubmit:function(a){var t=document.querySelector('input[name="gender"]:checked').value;j.a.post("".concat(O,"/api/v1/signup"),{name:a.name,email:a.email,gender:t,phoneNumber:Number(a.phoneNumber),password:a.password,address:a.address}).then((function(a){alert("SIGNUP SUCCESSFULLY"),e.push("/login")})).catch((function(e){}))}});return Object(y.jsxs)("div",{style:{margin:"1rem"},children:[Object(y.jsx)("h1",{children:"Signup page"}),Object(y.jsx)("form",{onSubmit:a.handleSubmit,children:Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsxs)(g.a,{container:!0,spacing:1,children:[Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Full Name",variant:"standard",name:"name",value:a.values.name,onChange:a.handleChange,error:a.touched.name&&Boolean(a.errors.name),helperText:a.touched.name&&a.errors.name})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Email",variant:"standard",name:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Password",variant:"standard",type:"password",name:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,color:"primary",id:"filled-basic",label:"Address",variant:"standard",type:"address",name:"address",value:a.values.address,onChange:a.handleChange,error:a.touched.address&&Boolean(a.errors.address),helperText:a.touched.address&&a.errors.address})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(h.a,{fullWidth:!0,name:"phoneNumber",label:"Phone Number",variant:"standard",value:a.values.phoneNumber,onChange:a.handleChange,error:a.touched.phoneNumber&&Boolean(a.errors.phoneNumber),helperText:a.touched.phoneNumber&&a.errors.phoneNumber})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsxs)(k.a,{component:"fieldset",children:[Object(y.jsx)(G.a,{component:"legend",style:{textAlign:"left"},children:"Gender"}),Object(y.jsxs)(P.a,{"aria-label":"gender",defaultValue:"male",name:"genderParent",children:[Object(y.jsx)(q.a,{name:"gender",value:"male",control:Object(y.jsx)(T.a,{}),label:"Male"}),Object(y.jsx)(q.a,{name:"gender",value:"female",control:Object(y.jsx)(T.a,{}),label:"Female"})]})]})}),Object(y.jsx)(g.a,{item:!0,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:3}),Object(y.jsx)(g.a,{item:!0,xs:12,md:6,children:Object(y.jsx)(b.a,{fullWidth:!0,variant:"contained",type:"submit",children:"Signup"})}),Object(y.jsx)(g.a,{item:!0,xs:12,md:3})]})})})]})};var F=function(){var e=Object(r.useContext)(C),a=(e.state,e.dispatch),t=Object(r.useState)({}),n=Object(f.a)(t,2),s=n[0],i=n[1];return Object(r.useEffect)((function(){j.a.get("".concat(O,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),i(e.data)}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{children:" Profile Page "}),Object(y.jsx)("p",{children:JSON.stringify(s)}),Object(y.jsx)("button",{onClick:function(){j.a.get("".concat(O,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),i(e.data)}))},children:"get profile"}),Object(y.jsx)("button",{onClick:function(){j.a.post("".concat(O,"/api/v1/logout"),{},{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),a({type:"USER_LOGOUT"})}))},children:"Logout"})]})};var W=function(){var e=Object(c.f)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{className:"bgcolor1",expand:"lg",children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(d.a.Brand,{href:"#home",children:"My App"}),Object(y.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(o.a,{className:"me-auto",children:[Object(y.jsx)(o.a.Link,{onClick:function(){e.push("/signup")},children:"Signup"}),Object(y.jsx)(o.a.Link,{onClick:function(){e.push("/login")},children:"Login"}),Object(y.jsx)(o.a.Link,{onClick:function(){e.push("/")},children:"Dashboard"})]})})]})}),Object(y.jsxs)(c.c,{children:[Object(y.jsx)(c.a,{path:"/login",children:Object(y.jsx)(L,{})}),Object(y.jsx)(c.a,{path:"/signup",children:Object(y.jsx)(U,{})}),Object(y.jsx)(c.a,{exact:!0,path:"/",children:Object(y.jsx)(F,{})})]})]})},_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,368)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,s=a.getLCP,i=a.getTTFB;t(e),r(e),n(e),s(e),i(e)}))},I=t(76);i.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(E,{children:Object(y.jsx)(I.a,{children:Object(y.jsx)(W,{})})})}),document.getElementById("root")),_()}},[[316,1,2]]]);
//# sourceMappingURL=main.c468028b.chunk.js.map